class FlakeMove{constructor(a,b,c,d){this.canvasWidth=a,this.canvasHeight=b,this.x=Math.random(),this.y=Math.random()*b,this.size=Math.random()*c,this.maxSize=c,this.speed=Math.random()+d,this.fallSpeed=d,this.velY=this.speed,this.velX=0,this.stepSize=Math.random()/3e4,this.step=0}updateDimensions(a,b){this.canvasWidth=a,this.canvasHeight=b}update(){this.velX*=0.98,this.velY<=this.speed&&(this.velY=this.speed),this.velX+=Math.cos(this.step+=.03)*this.stepSize,this.y+=this.velY,this.x+=this.velX,(-0.2>=this.x||1.2<=this.x||-50>=this.y||this.y>=this.canvasHeight+50)&&this.reset(this.canvasWidth,this.canvasHeight)}reset(){this.x=Math.random(),this.y=0,this.size=Math.random()*this.maxSize+2,this.speed=Math.random()+this.fallSpeed,this.velY=this.speed,this.velX=0}render(a){let b=this.x*this.canvasWidth,c=a.createRadialGradient(b,this.y,0,b,this.y,this.size);c.addColorStop(0,"rgba(255, 255, 255, 0.9)"),c.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),c.addColorStop(1,"rgba(255, 255, 255, 0)"),a.save(),a.fillStyle=c,a.beginPath(),a.arc(b,this.y,this.size,0,2*Math.PI),a.fill(),a.restore()}}class SnowFall{constructor(a){a=a||{},this.flakes=[],this.maxFlake=a.maxFlake||200,this.flakeSize=a.flakeSize||5,this.fallSpeed=a.fallSpeed||2,this.canvas=null,this.ctx=null}start(){this.snowCanvas(),this.createFlakes(),this.drawSnow()}canvasUpdateSize(){this.canvas.width=document.body.clientWidth,this.canvas.height=document.body.clientHeight;for(let a=0;a<this.maxFlake;a++)this.flakes[a].updateDimensions(this.canvas.width,this.canvas.height)}snowCanvas(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.id="snowfall",this.canvas.width=document.body.clientWidth,this.canvas.height=document.body.clientHeight,this.canvas.setAttribute("style","position:absolute; top: 0; left: 0; z-index: 1; pointer-events: none;"),document.getElementsByTagName("body")[0].appendChild(this.canvas),window.onresize=this.canvasUpdateSize.bind(this)}createFlakes(){for(let a=0;a<this.maxFlake;a++)this.flakes.push(new FlakeMove(this.canvas.width,this.canvas.height,this.flakeSize,this.fallSpeed))}drawSnow(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let a=0;a<this.maxFlake;a++)this.flakes[a].update(),this.flakes[a].render(this.ctx);requestAnimationFrame(this.drawSnow.bind(this))}}var snow=new SnowFall({maxFlake:200});document.addEventListener("DOMContentLoaded",snow.start.bind(snow));